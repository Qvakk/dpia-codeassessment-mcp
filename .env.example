# ============================================================================
# TRANSPORT CONFIGURATION
# ============================================================================

# Transport mode: stdio (for local MCP via docker exec) or http (for remote access/Kubernetes)
# stdio: No port needed, use with docker exec in VS Code MCP
# http: Requires port mapping, use for API access or Kubernetes deployment
TRANSPORT=stdio

# HTTP port (only used when TRANSPORT=http)
# Default: 3000 (container internal), mapped to host port via HTTP_PORT in docker-compose
HTTP_PORT=3000

# ============================================================================
# SEARCH CONFIGURATION
# ============================================================================

# Enable embeddings for semantic search (true) or use keyword search (false)
# Keyword mode: ~50MB memory, fast, good for exact matches
# Semantic mode: ~500MB memory, slower, better for natural language
USE_EMBEDDINGS=true

# ============================================================================
# EMBEDDING PROVIDER CONFIGURATION
# Choose one: huggingface, openai, or azure
# ============================================================================

EMBEDDING_PROVIDER=huggingface

# --- HuggingFace (Local) Settings ---
# Model runs locally, no API key needed
# Recommended: sentence-transformers/all-MiniLM-L6-v2 (fast, 384 dims)
# Alternative: sentence-transformers/all-mpnet-base-v2 (better quality, 768 dims)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# --- OpenAI Settings ---
# Requires OpenAI API key
# Models: text-embedding-3-small (1536 dims), text-embedding-3-large (3072 dims)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_DIMENSION=1536

# --- Azure OpenAI Settings ---
# Requires Azure OpenAI deployment
AZURE_OPENAI_API_KEY=your-azure-api-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=text-embedding-ada-002
AZURE_OPENAI_EMBEDDING_DIMENSION=1536

# ============================================================================
# DOCUMENTATION SCRAPING CONFIGURATION
# ============================================================================

# CSV file containing legal documentation sources (PDFs and web URLs)
DATA_SOURCES_CSV=data/legal_sources.csv

# PDF cache directory (downloaded PDFs are cached here)
PDF_CACHE_DIR=data/pdf_cache

# Crawl depth (0=homepage only, 1=main sections, 2=all pages, 3=deep crawl)
# Recommended: 3 for comprehensive legal documents with nested references
CRAWL_MAX_DEPTH=3

# Maximum pages to crawl (safety limit)
CRAWL_MAX_PAGES=1000

# Request timeout in seconds
SCRAPER_TIMEOUT=30

# User agent for web requests
USER_AGENT=Mozilla/5.0 (compatible; MCPServerBot/1.0)

# ============================================================================
# VECTOR DATABASE CONFIGURATION
# ============================================================================

# ChromaDB storage location
CHROMA_PERSIST_DIRECTORY=./data/chroma_db

# Collection name
CHROMA_COLLECTION_NAME=documentation

# Chunk size for splitting documents (characters)
CHUNK_SIZE=1000

# Chunk overlap for context preservation
CHUNK_OVERLAP=200

# ============================================================================
# AUTO-UPDATE SCHEDULER CONFIGURATION
# ============================================================================

# Enable automatic documentation updates
AUTO_UPDATE_ENABLED=true

# Update interval in days
UPDATE_INTERVAL_DAYS=7

# Time of day to run updates (24-hour format, e.g., "02:00" for 2 AM)
UPDATE_TIME=02:00

# ============================================================================
# LOGGING AND DEBUGGING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable verbose logging for debugging
VERBOSE=false

# ============================================================================
# MCP SERVER CONFIGURATION
# ============================================================================

# Server name (shown in MCP clients)
SERVER_NAME=mcp-server-template

# Server version
SERVER_VERSION=0.1.0

# Maximum search results to return
MAX_SEARCH_RESULTS=20

# Default search results limit
DEFAULT_SEARCH_LIMIT=5
